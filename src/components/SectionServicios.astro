---
const WHATSAPP = "https://wa.me/542975408275";

const servicios = [
    {
        slug: "terapia-ocupacional",
        titulo: "Terapia Ocupacional",
        resumen:
            "Evaluación y tratamiento para potenciar la autonomía en actividades de la vida diaria, escolar y laboral.",
        puntos: [
            "Rehabilitación y orientación ocupacional",
            "Entrenamiento en AVDs",
            "Adaptaciones del entorno y ayudas técnicas",
        ],
        color: "from-emerald-50 to-white",
        icon: "ocupacional",
    },
    {
        slug: "kinesiologia-fisiatria",
        titulo: "Kinesiología · Fisiatría",
        resumen:
            "Abordaje integral del movimiento para prevenir, evaluar y tratar lesiones musculoesqueléticas.",
        puntos: [
            "Dolor y lesiones deportivas",
            "Reeducación postural (RPG/Souchard)",
            "Post-quirúrgicos y traumatología",
        ],
        color: "from-indigo-50 to-white",
        icon: "kine",
    },
    {
        slug: "fonoaudiologia",
        titulo: "Fonoaudiología",
        resumen:
            "Prevención y tratamiento de trastornos del habla, la voz, el lenguaje y la deglución.",
        puntos: [
            "Lenguaje en niños y adultos",
            "Disartria, afasia",
            "Disfagia (deglución)",
        ],
        color: "from-rose-50 to-white",
        icon: "fono",
    },
    {
        slug: "uroginecologica",
        titulo: "Kinesiología Uroginecológica",
        resumen:
            "Atención especializada en suelo pélvico para mujeres en distintas etapas de la vida.",
        puntos: [
            "Incontinencia urinaria",
            "Dolor pélvico crónico",
            "Pre y post parto",
        ],
        color: "from-purple-50 to-white",
        icon: "uro",
    },
    {
        slug: "rehabilitacion-neurologica",
        titulo: "Rehabilitación Neurológica",
        resumen:
            "Tratamientos para patologías del sistema nervioso con enfoque funcional e interdisciplinario.",
        puntos: [
            "ACV y TCE",
            "Parkinson y EM",
            "Entrenamiento de la marcha y equilibrio",
        ],
        color: "from-sky-50 to-white",
        icon: "neuro",
    },
    {
        slug: "clinica-medica-neurologia",
        titulo: "Clínica Médica · Neurología",
        resumen:
            "Consultas médicas para diagnóstico, seguimiento y articulación con los planes de rehabilitación.",
        puntos: [
            "Chequeos y derivaciones",
            "Control de medicación",
            "Interconsulta con equipos",
        ],
        color: "from-slate-50 to-white",
        icon: "med",
    },
];

// Íconos (paths) y helper para armar link de WhatsApp
const iconPaths: Record<string, string> = {
    ocupacional:
        "M12 2a3 3 0 0 1 3 3v2h1a3 3 0 0 1 0 6h-1v6a3 3 0 1 1-6 0v-6H8a3 3 0 0 1 0-6h1V5a3 3 0 0 1 3-3Z",
    kine: "M9 7a3 3 0 1 1 6 0a3 3 0 0 1-6 0Zm-3 13l2-6l3-2l2 2l5-3l2 3l-2 1l-3 5H6Z",
    fono: "M12 3c4.97 0 9 4.03 9 9h-2a7 7 0 0 0-14 0H3c0-4.97 4.03-9 9-9Zm-6 9h2a5 5 0 0 0 10 0h2a7 7 0 0 1-14 0Z",
    uro: "M12 3c3 0 5 2 5 5v3c0 3 2 4 2 6a4 4 0 0 1-8 0a4 4 0 0 1-8 0c0-2 2-3 2-6V8c0-3 2-5 5-5Z",
    neuro: "M12 2a8 8 0 0 0-8 8v4a6 6 0 0 0 6 6h4a6 6 0 0 0 6-6v-4a8 8 0 0 0-8-8Z",
    med: "M10 2h4v4h4v4h-4v4h-4v-4H6V6h4V2Z",
};

const waLink = (titulo: string) =>
    `${WHATSAPP}?text=${encodeURIComponent(`Hola, necesito un turno de ${titulo}.`)}`;
---

<section id="servicios" class="py-20 bg-slate-50">
    <div class="max-w-6xl mx-auto px-4">
        <div class="max-w-2xl">
            <h2 class="text-3xl md:text-4xl font-bold">Nuestros servicios</h2>
            <p class="mt-3 text-slate-600">
                Abordaje <strong>interdisciplinario</strong> con profesionales de
                Terapia Ocupacional, Kinesiología, Fonoaudiología, Rehabilitación
                Neurológica y especialidades médicas.
            </p>
        </div>

        <div class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {
                servicios.map((s) => (
                    <article class="group rounded-2xl border border-slate-200 bg-white overflow-hidden">
                        <div
                            class={`bg-gradient-to-b ${s.color} p-5 border-b border-slate-200`}
                        >
                            <div class="flex items-center gap-3">
                                <div class="p-2 rounded-xl bg-white/70 text-brand-700 ring-1 ring-slate-200">
                                    <svg
                                        viewBox="0 0 24 24"
                                        class="h-6 w-6"
                                        aria-hidden="true"
                                    >
                                        <path
                                            fill="currentColor"
                                            d={iconPaths[s.icon]}
                                        />
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold">
                                    {s.titulo}
                                </h3>
                            </div>
                            <p class="mt-3 text-slate-600 text-sm leading-relaxed">
                                {s.resumen}
                            </p>
                        </div>

                        <ul class="p-5 space-y-2 text-sm text-slate-700">
                            {s.puntos.map((p) => (
                                <li class="flex items-start gap-2">
                                    <span class="mt-1 inline-block h-2 w-2 rounded-full bg-emerald-400" />
                                    <span>{p}</span>
                                </li>
                            ))}
                        </ul>

                        <div class="px-5 pb-5 flex items-center justify-between">
                            <a
                                href={`${import.meta.env.BASE_URL}#contacto`}
                                class="text-brand-700 hover:underline text-sm"
                            >
                                Más información
                            </a>
                            <a
                                href={waLink(s.titulo)}
                                target="_blank"
                                rel="noopener noreferrer"
                                class="btn-brand text-sm"
                            >
                                Pedir turno
                            </a>
                        </div>
                    </article>
                ))
            }
        </div>
    </div>
</section>
